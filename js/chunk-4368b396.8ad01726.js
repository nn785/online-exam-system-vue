(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4368b396"],{6117:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t._self._c;return e("el-container",[e("el-main",[e("el-row",[e("el-col",{attrs:{span:19}},[e("el-input",{staticStyle:{width:"490px"},attrs:{placeholder:"请输入关键词进行过滤",clearable:""},on:{blur:t.professionInfo},model:{value:t.queryInfo.queryText,callback:function(e){t.$set(t.queryInfo,"queryText",e)},expression:"queryInfo.queryText"}})],1),e("el-col",{attrs:{span:5}},[e("el-button",{staticStyle:{float:"right","margin-right":"80px"},attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.openAddForm}},[t._v(" 添加 ")])],1)],1),e("el-table",{staticStyle:{"margin-top":"20px"},attrs:{data:t.professionData,"row-key":"id",indent:50,"tree-props":{children:"children",hasChildren:"hasChildren"}}},[e("el-table-column",{attrs:{type:"index",label:"编号",align:"center",width:"80"}}),e("el-table-column",{attrs:{prop:"name",label:"专业/课程名"}}),e("el-table-column",{attrs:{label:"操作",align:"center",width:"250"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){return t.deleteProfession(o.row.id)}}},[t._v("删除 ")]),e("el-button",{attrs:{size:"small",type:"warning"},on:{click:function(e){return t.openUpdate(o.row)}}},[t._v("修改 ")])]}}])})],1)],1),e("el-dialog",{attrs:{"before-close":t.closeAddForm,title:"添加章节",visible:t.addFormIsShow,width:"50%"},on:{"update:visible":function(e){t.addFormIsShow=e}}},[e("el-form",{ref:"addForm",attrs:{model:t.addForm,"label-width":"150px"}},[e("el-form-item",{attrs:{label:"父目录："}},[e("el-cascader",{staticStyle:{width:"450px"},attrs:{options:t.professionOptions,props:t.professionCascadeProps},model:{value:t.addForm.pid,callback:function(e){t.$set(t.addForm,"pid",e)},expression:"addForm.pid"}})],1),e("el-form-item",{attrs:{label:"专业/课程名："}},[e("el-input",{staticStyle:{width:"500px"},attrs:{placeholder:"如：软件工程"},model:{value:t.addForm.title,callback:function(e){t.$set(t.addForm,"title",e)},expression:"addForm.title"}})],1),e("el-form-item",{attrs:{label:"排序："}},[e("el-input-number",{attrs:{min:1,max:1e3},model:{value:t.addForm.weight,callback:function(e){t.$set(t.addForm,"weight",e)},expression:"addForm.weight"}}),e("span",{staticClass:"px-attention"},[t._v("*值越低，位置越靠前")])],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.closeAddForm}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addProfession(!1)}}},[t._v("确定添加")]),e("el-button",{attrs:{type:"success"},on:{click:function(e){return t.addProfession(!0)}}},[t._v("继续添加")])],1)],1),e("el-dialog",{attrs:{title:"添加章节",visible:t.updateShow,width:"50%"},on:{"update:visible":function(e){t.updateShow=e}}},[e("el-form",{ref:"addForm",attrs:{model:t.updateForm,"label-width":"150px"}},[e("el-form-item",{attrs:{label:"专业/课程名："}},[e("el-input",{staticStyle:{width:"500px"},attrs:{placeholder:"如：软件工程"},model:{value:t.updateForm.title,callback:function(e){t.$set(t.updateForm,"title",e)},expression:"updateForm.title"}})],1),e("el-form-item",{attrs:{label:"排序："}},[e("el-input-number",{attrs:{min:1,max:1e3},model:{value:t.updateForm.weight,callback:function(e){t.$set(t.updateForm,"weight",e)},expression:"updateForm.weight"}}),e("span",{staticClass:"px-attention"},[t._v("*值越低，位置越靠前")])],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.updateShow=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.updatePro}},[t._v("确定修改")])],1)],1)],1)},s=[],r=(o("14d9"),o("7d0a")),i={name:"Profession",data(){return{professionData:[],queryInfo:{queryText:""},professionOptions:[],addForm:{weight:1,title:"",pid:"0"},updateForm:{weight:1,title:"",id:null},updateShow:!1,addFormIsShow:!1,professionCascadeProps:{expandTrigger:"hover",checkStrictly:!0,value:"id",label:"name",emitPath:!1}}},methods:{updatePro(){r["a"].update(this.updateForm).then(t=>{this.$message.success("修改成功"),this.professionInfo(),this.updateShow=!1})},professionInfo(){r["a"].getList(this.queryInfo).then(t=>{this.professionData=t.data})},openUpdate(t){this.updateForm.id=t.id,this.updateForm.title=t.name,this.updateForm.weight=t.weight,this.updateShow=!0},professionOpInfo(){r["a"].getList().then(t=>{let e=[{id:"0",name:"主目录"}];e.push(...t.data),this.professionOptions=e})},openAddForm(){this.professionOpInfo(),this.addFormIsShow=!0},addProfession(t){r["a"].add(this.addForm).then(e=>{if(200===e.code){if(this.$message.success("添加成功"),this.addForm.title="",t)return void this.professionOpInfo();this.addForm.pid="0",this.professionInfo(),this.addFormIsShow=!1}})},deleteProfession(t){this.$confirm("此操作将永久删除该目录与其下的子目录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{r["a"].deleteById({id:t}).then(t=>{this.$message.success("删除成功"),this.professionInfo()})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},closeAddForm(){this.professionInfo(),this.addFormIsShow=!1}},created(){this.professionInfo()}},n=i,l=(o("8b91"),o("2877")),d=Object(l["a"])(n,a,s,!1,null,"e40ec9c6",null);e["default"]=d.exports},"7d0a":function(t,e,o){"use strict";var a=o("b775");e["a"]={getList(t){return Object(a["a"])({url:"/teacher/profession/get",method:"get",params:t})},deleteById(t){return Object(a["a"])({url:"/teacher/profession/delete",method:"get",params:t})},add(t){return Object(a["a"])({url:"/teacher/profession/add",method:"post",data:t})},update(t){return Object(a["a"])({url:"/teacher/profession/update",method:"post",data:t})}}},"8b91":function(t,e,o){"use strict";o("ef75")},ef75:function(t,e,o){}}]);
//# sourceMappingURL=chunk-4368b396.8ad01726.js.map