(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32616348"],{"2ac8":function(e,t,n){"use strict";var r=n("b775");t["a"]={getQuestionById(e){return Object(r["a"])({url:"/student/getQuestionById/"+e,method:"get"})},getQuestionByIds(e){return Object(r["a"])({url:"/student/getQuestionByIds",params:e,method:"get"})},getQuestion(e){return Object(r["a"])({url:"/teacher/getQuestion",method:"get",params:e})},deleteQuestion(e){return Object(r["a"])({url:"/teacher/deleteQuestion",method:"get",params:e})},addQuestion(e){return Object(r["a"])({url:"/teacher/addQuestion",method:"post",data:e})},importQuestion(e){return Object(r["a"])({url:"/teacher/importQuestion",method:"post",data:e})},updateQuestion(e){return Object(r["a"])({url:"/teacher/updateQuestion",method:"post",data:e})},getQuestionByBankIdAndType(e){return Object(r["a"])({url:"/public/getQuestionByBankIdAndType",method:"get",params:e})}}},"7cb4":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("el-container",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[t("el-main",[t("el-row",[t("el-card",{staticStyle:{padding:"15px"}},[t("div",[1===e.currentBankQuestion[e.curIndex].questionType?t("span",[e._v("【单选题】")]):2===e.currentBankQuestion[e.curIndex].questionType?t("span",[e._v("【多选题】")]):t("span",[e._v("【判断题】")]),e._v(" "+e._s(e.curIndex+1+"/"+e.currentBankQuestion.length+"、")+" "),t("span",[e._v(e._s(e.currentBankQuestion[e.curIndex].questionContent)+":")])]),e._l(e.currentBankQuestion[e.curIndex].images,(function(n){return t("img",{staticStyle:{width:"200px",height:"200px",cursor:"pointer"},attrs:{src:e.imgUrl+n,title:"点击查看大图",alt:"题目图片"},on:{click:function(t){return e.showBigImg(e.imgUrl+n)}}})})),t("div",{directives:[{name:"show",rawName:"v-show",value:2!==e.currentBankQuestion[e.curIndex].questionType,expression:"currentBankQuestion[curIndex].questionType !== 2"}],staticStyle:{"margin-top":"25px"}},[t("div",{staticClass:"el-radio-group"},e._l(e.currentBankQuestion[e.curIndex].answer,(function(n,r){return t("label",{class:r===e.userAnswer[e.curIndex]?"active":"",on:{click:function(t){return e.checkSingleAnswer(r)}}},[t("span",[e._v(e._s(e.optionName[r]+"、"+n.answer))])])})),0)]),2!==e.currentBankQuestion[e.curIndex].questionType&&e.userAnswer[e.curIndex]&&e.userAnswer[e.curIndex]+""!==e.trueAnswer[e.curIndex]?t("div",[t("span",{staticStyle:{color:"#1f90ff"},domProps:{textContent:e._s("正确答案："+e.optionName[e.trueAnswerIndex])}})]):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:2===e.currentBankQuestion[e.curIndex].questionType,expression:"currentBankQuestion[curIndex].questionType === 2"}],staticStyle:{"margin-top":"25px"}},[t("div",{staticClass:"el-radio-group"},[e._l(e.currentBankQuestion[e.curIndex].answer,(function(n,r){return t("label",{class:-1!==(e.userAnswer[e.curIndex]+"").indexOf(r+"")?"active":"",on:{click:function(t){return e.selectedMultipleAnswer(r)}}},[t("span",[e._v(e._s(e.optionName[r]+"、"+n.answer))])])})),t("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.confirmMultiple.includes(e.curIndex),expression:"!confirmMultiple.includes(curIndex)"}],attrs:{size:"small",type:"primary"},on:{click:function(t){return e.confirmMultipleAnswer()}}},[e._v(" 确认答案 ")])],2)]),2===e.currentBankQuestion[e.curIndex].questionType&&e.confirmMultiple.includes(e.curIndex)&&void 0!==e.userAnswer[e.curIndex]&&String(e.userAnswer[e.curIndex])!==String(e.trueAnswer[e.curIndex])?t("div",[t("span",{staticStyle:{color:"#1f90ff"},domProps:{textContent:e._s("正确答案："+e.multipleAnswer)}})]):e._e(),t("div",{staticStyle:{"margin-top":"25px"}},[t("el-button",{attrs:{type:"primary",disabled:e.curIndex<1},on:{click:function(t){e.curIndex--}}},[e._v("上一题")]),t("el-button",{attrs:{type:"primary",disabled:e.curIndex>=e.currentBankQuestion.length-1},on:{click:function(t){e.curIndex++}}},[e._v("下一题 ")]),t("el-button",{staticStyle:{float:"right"},on:{click:function(t){e.showAnswerCard=!e.showAnswerCard}}},[e._v(" "+e._s(e.showAnswerCard?"隐藏答题卡":"显示答题卡")+" ")])],1)],2)],1),(2===e.currentBankQuestion[e.curIndex].questionType?e.confirmMultiple.includes(e.curIndex)&&e.trueAnswer[e.curIndex]!==e.userAnswer[e.curIndex]:void 0!==e.userAnswer[e.curIndex]&&e.trueAnswer[e.curIndex]!==e.userAnswer[e.curIndex])?t("el-row",[t("el-card",{staticStyle:{position:"relative",height:"60px","margin-top":"25px"}},[e._v(" 整体解析： "),t("br"),t("span",{staticStyle:{"font-size":"12px"}},[e._v(e._s(e.currentBankQuestion[e.curIndex].analysis))])])],1):e._e(),t("el-row",[t("el-card",{staticStyle:{position:"relative",height:"60px","margin-top":"25px"}},[t("span",{staticStyle:{position:"absolute",color:"#32cd32","font-size":"16px",left:"10%",top:"50%",transform:"translateY(-50%)"}},[e._v(" 答对: "+e._s(e.trueSum)+"题 ")]),t("span",{staticStyle:{position:"absolute",color:"#ff0000","font-size":"16px",left:"40%",top:"50%",transform:"translateY(-50%)"}},[e._v(" 答错: "+e._s(e.wrongSum)+"题 ")]),t("span",{staticStyle:{position:"absolute","font-size":"16px",left:"60%",top:"50%",transform:"translateY(-50%)"}},[e._v(" 正确率: "+e._s(e.trueSum+e.wrongSum!==0?(e.trueSum/(e.wrongSum+e.trueSum)*100).toFixed(0)+"%":"0%")+" ")])])],1),t("el-row",{directives:[{name:"show",rawName:"v-show",value:e.showAnswerCard,expression:"showAnswerCard"}]},[t("el-card",e._l(e.currentBankQuestion.length,(function(n){return t("el-button",{key:n,class:2!==e.currentBankQuestion[n-1].questionType||e.confirmMultiple.includes(n-1)?void 0!==e.userAnswer[n-1]&&e.userAnswer[n-1]+""===String(e.trueAnswer[n-1])?"true":void 0===e.userAnswer[n-1]?"":"wrong":"",staticStyle:{"margin-top":"10px"},on:{click:function(t){e.curIndex=n-1}}},[e._v(e._s(n)+" ")])})),1)],1)],1),t("el-dialog",{attrs:{visible:e.bigImgDialog},on:{"update:visible":function(t){e.bigImgDialog=t},close:function(t){e.bigImgDialog=!1}}},[t("img",{staticStyle:{width:"100%"},attrs:{src:e.bigImgUrl}})])],1)},s=[],i=(n("14d9"),n("8b81")),u=n("2ac8"),a={name:"TrainPage",data(){return{imgUrl:Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_IMAGE_URL,bankId:this.$route.params.bankId,trainType:this.$route.params.trainType,currentBankQuestion:[{questionType:""}],curIndex:0,bigImgDialog:!1,bigImgUrl:"",loading:!0,optionName:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],singleAnswer:"",userAnswer:[],trueAnswer:[],showAnswerCard:!1,trueSum:0,wrongSum:0,confirmMultiple:[]}},props:["tagInfo"],created(){this.$emit("giveChildChangeBreakInfo","开始训练","在线考试"),this.createTagsInParent(),this.getQuestionInfo()},methods:{createTagsInParent(){let e=!1;this.tagInfo.map(t=>{"开始训练"===t.name&&t.url===this.$route.path?e=!0:"开始训练"===t.name&&t.url!==this.$route.path&&(this.$emit("updateTagInfo","开始训练",this.$route.path),e=!0)}),e||this.$emit("giveChildAddTag","开始训练",this.$route.path)},getQuestionInfo(){switch(parseInt(this.$route.params.trainType)){case 1:i["a"].getQuestionByBank({bankId:this.bankId}).then(e=>{200===e.code&&(this.currentBankQuestion=e.data,this.loading=!1,this.getTrueAnswer())});break;case 2:i["a"].getQuestionByBank({bankId:this.bankId}).then(e=>{if(200===e.code){let t=e.data;for(let e=t.length-1;e>=0;e--){let n=Math.floor(Math.random()*(e+1)),r=t[n];t[n]=t[e],t[e]=r}this.currentBankQuestion=t,this.loading=!1,this.getTrueAnswer()}});break;case 3:u["a"].getQuestionByBankIdAndType({bankId:this.bankId,type:1}).then(e=>{200===e.code&&(this.currentBankQuestion=e.data,this.loading=!1,this.getTrueAnswer())});break;case 4:u["a"].getQuestionByBankIdAndType({bankId:this.bankId,type:2}).then(e=>{200===e.code&&(this.currentBankQuestion=e.data,this.loading=!1,this.getTrueAnswer())});break;case 5:u["a"].getQuestionByBankIdAndType({bankId:this.bankId,type:3}).then(e=>{200===e.code&&(this.currentBankQuestion=e.data,this.loading=!1,this.getTrueAnswer())});break}},showBigImg(e){this.bigImgUrl=e,this.bigImgDialog=!0},checkSingleAnswer(e){void 0===this.userAnswer[this.curIndex]&&e+""===this.trueAnswer[this.curIndex]?(this.userAnswer[this.curIndex]=e,this.trueSum++,this.curIndex<this.trueAnswer.length-1&&this.nextQuestion()):void 0===this.userAnswer[this.curIndex]&&e+""!==this.trueAnswer[this.curIndex]&&(this.userAnswer[this.curIndex]=e,this.wrongSum++)},selectedMultipleAnswer(e){if(!this.confirmMultiple.includes(this.curIndex))if(void 0===this.userAnswer[this.curIndex])this.$set(this.userAnswer,this.curIndex,e);else if(String(this.userAnswer[this.curIndex]).split(",").includes(e+"")){let t=[];String(this.userAnswer[this.curIndex]).split(",").forEach(n=>{n!==""+e&&t.push(n)}),0===t.length?this.$set(this.userAnswer,this.curIndex,void 0):this.$set(this.userAnswer,this.curIndex,t.join(","))}else(this.userAnswer[this.curIndex]+"").split(",").includes(e+"")||this.$set(this.userAnswer,this.curIndex,this.userAnswer[this.curIndex]+=","+e)},getTrueAnswer(){let e=[];this.currentBankQuestion.forEach((t,n)=>{e=[],t.answer.map((t,n)=>{"true"===t.isTrue&&e.push(n)}),this.trueAnswer[n]=e.join(",")})},confirmMultipleAnswer(){this.userAnswer[this.curIndex]=String(this.userAnswer[this.curIndex]).split(",").sort((function(e,t){return e-t})).join(","),this.userAnswer[this.curIndex]===this.trueAnswer[this.curIndex]?(this.confirmMultiple.push(this.curIndex),this.trueSum++,this.nextQuestion()):(this.wrongSum++,this.confirmMultiple.push(this.curIndex))},nextQuestion(){this.curIndex=Math.min(this.curIndex+1,this.currentBankQuestion.length-1)}},computed:{trueAnswerIndex(){let e=[];return this.currentBankQuestion[this.curIndex].answer.forEach((t,n)=>{"true"===t.isTrue&&e.push(n)}),e.join(",")},multipleAnswer(){let e=String();return String(this.trueAnswer[this.curIndex]).split(",").forEach(t=>{e+=String(this.optionName[parseInt(t)])}),e}}},o=a,c=(n("8f6f"),n("2877")),d=Object(c["a"])(o,r,s,!1,null,"3e98811c",null);t["default"]=d.exports},"8b81":function(e,t,n){"use strict";var r=n("b775");t["a"]={getBankHaveQuestionSumByType(e){return Object(r["a"])({url:"/public/getBankHaveQuestionSumByType",method:"get",params:e})},deleteQuestionBank(e){return Object(r["a"])({url:"/teacher/deleteQuestionBank",method:"get",params:e})},addQuestionBank(e){return Object(r["a"])({url:"/teacher/addQuestionBank",method:"post",data:e})},getQuestionBank(){return Object(r["a"])({url:"/teacher/getQuestionBank",method:"get"})},addBankQuestion(e){return Object(r["a"])({url:"/teacher/addBankQuestion",method:"get",params:e})},removeBankQuestion(e){return Object(r["a"])({url:"/teacher/removeBankQuestion",method:"get",params:e})},getQuestionByBank(e){return Object(r["a"])({url:"/public/getQuestionByBank",method:"get",params:e})}}},"8f6f":function(e,t,n){"use strict";n("e3d0")},e3d0:function(e,t,n){}}]);
//# sourceMappingURL=chunk-32616348.f9afc309.js.map