(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3cd2411a"],{2386:function(e,t,a){},"2ac8":function(e,t,a){"use strict";var n=a("b775");t["a"]={getQuestionById(e){return Object(n["a"])({url:"/student/getQuestionById/"+e,method:"get"})},getQuestionByIds(e){return Object(n["a"])({url:"/student/getQuestionByIds",params:e,method:"get"})},getQuestion(e){return Object(n["a"])({url:"/teacher/getQuestion",method:"get",params:e})},deleteQuestion(e){return Object(n["a"])({url:"/teacher/deleteQuestion",method:"get",params:e})},addQuestion(e){return Object(n["a"])({url:"/teacher/addQuestion",method:"post",data:e})},importQuestion(e){return Object(n["a"])({url:"/teacher/importQuestion",method:"post",data:e})},updateQuestion(e){return Object(n["a"])({url:"/teacher/updateQuestion",method:"post",data:e})},getQuestionByBankIdAndType(e){return Object(n["a"])({url:"/public/getQuestionByBankIdAndType",method:"get",params:e})}}},"39f0":function(e,t,a){"use strict";var n=a("b775");t["a"]={getExamInfo(e){return Object(n["a"])({url:"/public/getExamInfo",method:"post",data:e})},allExamInfo(){return Object(n["a"])({url:"/public/allExamInfo",method:"get"})},operationExam(e,t){return Object(n["a"])({url:"/teacher/operationExam/"+e,method:"get",params:t})},getExamRecord(e){return Object(n["a"])({url:"/teacher/getExamRecord",method:"get",params:e})},getExamInfoById(e){return Object(n["a"])({url:"/public/getExamInfoById",method:"get",params:e})},addExamRecord(e){return Object(n["a"])({url:"/student/addExamRecord",method:"post",data:e})},getExamRecordById(e){return Object(n["a"])({url:"/student/getExamRecordById/"+e,method:"get"})},getExamQuestionByExamId(e){return Object(n["a"])({url:"/student/getExamQuestionByExamId/"+e,method:"get"})},addExamByBank(e){return Object(n["a"])({url:"/teacher/addExamByBank",method:"post",data:e})},addExamByQuestionList(e){return Object(n["a"])({url:"/teacher/addExamByQuestionList",method:"post",data:e})},updateExamInfo(e){return Object(n["a"])({url:"/teacher/updateExamInfo",method:"post",data:e})},getQuestionIdsByExamId(e){return Object(n["a"])({url:"/teacher/getQuestionIdsByExamId",method:"get",params:e})}}},a8a6:function(e,t,a){"use strict";a.r(t);a("14d9");var n=function(){var e=this,t=e._self._c;return t("el-container",[t("el-header",{attrs:{height:"220"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择考试类型"},on:{change:e.typeChange},model:{value:e.queryInfo.examType,callback:function(t){e.$set(e.queryInfo,"examType",t)},expression:"queryInfo.examType"}},e._l(e.examType,(function(e){return t("el-option",{key:e.type,attrs:{label:e.info,value:e.type}})})),1),t("el-date-picker",{staticStyle:{"margin-left":"5px"},attrs:{type:"date",placeholder:"考试开始时间"},on:{change:e.getExamInfo},model:{value:e.queryInfo.startTime,callback:function(t){e.$set(e.queryInfo,"startTime",t)},expression:"queryInfo.startTime"}}),t("el-date-picker",{staticStyle:{"margin-left":"5px"},attrs:{type:"date",placeholder:"考试结束时间"},on:{change:e.getExamInfo},model:{value:e.queryInfo.endTime,callback:function(t){e.$set(e.queryInfo,"endTime",t)},expression:"queryInfo.endTime"}}),t("el-input",{staticStyle:{"margin-left":"5px",width:"220px"},attrs:{placeholder:"考试名称","prefix-icon":"el-icon-search"},on:{blur:e.getExamInfo},model:{value:e.queryInfo.examName,callback:function(t){e.$set(e.queryInfo,"examName",t)},expression:"queryInfo.examName"}}),t("el-button",{staticStyle:{float:"right","margin-right":"50px"},attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.$router.push("/addExam")}}},[e._v("添加 ")])],1),t("el-main",[0!==e.selectionTable.length?t("el-select",{staticStyle:{"margin-bottom":"25px"},attrs:{clearable:"",placeholder:"已选择"+e.selectionTable.length+"项"},on:{change:e.operationChange},model:{value:e.operation,callback:function(t){e.operation=t},expression:"operation"}},e._l(e.operationInfo,(function(a,n){return t("el-option",{key:n,attrs:{value:a.desc}},[t("span",{staticStyle:{float:"left"}},[e._v(e._s(a.label))]),t("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(a.desc))])])})),1):e._e(),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"questionTable",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",border:!0,data:e.examInfo,"tooltip-effect":"dark"},on:{"selection-change":e.handleTableSectionChange}},[t("el-table-column",{attrs:{align:"center",type:"selection",width:"55"}}),t("el-table-column",{attrs:{align:"center",label:"考试名称"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticStyle:{cursor:"pointer",color:"rgb(24,144,255)"},on:{click:function(t){return e.$router.push("/updateExam/"+a.row.examId)}}},[e._v(e._s(a.row.examName))])]}}])}),t("el-table-column",{attrs:{align:"center",label:"考试类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(1===t.row.type?"完全公开":"需要密码")+" ")]}}])}),t("el-table-column",{attrs:{align:"center",label:"考试时间",width:"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(null!=t.row.startTime&&null!=t.row.endTime?t.row.startTime+" ~"+t.row.endTime:"不限时")+" ")]}}])}),t("el-table-column",{attrs:{align:"center",prop:"totalScore",label:"考试总分"}}),t("el-table-column",{attrs:{align:"center",prop:"passScore",label:"及格分数"}}),t("el-table-column",{attrs:{align:"center",prop:"duration",label:"考试时长(分)"}}),t("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(1===t.row.status?"启用":"禁用")+" ")]}}])}),t("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{icon:"el-icon-view",type:"success",size:"mini"},on:{click:function(t){return e.previewExam(a.row.examId)}}},[e._v(" 预览 ")])]}}])})],1),t("el-pagination",{staticStyle:{"margin-top":"25px"},attrs:{"current-page":e.queryInfo.pageNo,"page-sizes":[10,20,30,50],"page-size":e.queryInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),t("el-dialog",{attrs:{title:"试卷预览",center:"",visible:e.examQuestionDialog},on:{"update:visible":function(t){e.examQuestionDialog=t}}},[t("el-card",e._l(e.questionInfo,(function(a,n){return t("div",{key:n,staticStyle:{"margin-top":"15px"}},[t("div",[t("i",{staticClass:"num"},[e._v(e._s(n+1))]),1===a.questionType?t("span",[e._v("【单选题】")]):2===a.questionType?t("span",[e._v("【多选题】")]):3===a.questionType?t("span",[e._v("【判断题】")]):4===a.questionType?t("span",[e._v("【填空题】")]):5===a.questionType?t("span",[e._v("【简答题】")]):e._e(),t("span",[e._v(e._s(a.questionContent))])]),e._l(a.images,(function(a){return t("img",{staticStyle:{width:"100px",height:"100px",cursor:"pointer"},attrs:{src:e.imgUrl+a,title:"点击查看大图",alt:"题目图片"},on:{click:function(t){return e.showBigImg(e.imgUrl+a)}}})})),t("div",{directives:[{name:"show",rawName:"v-show",value:1===a.questionType||3===a.questionType,expression:"item.questionType === 1 || item.questionType === 3"}],staticStyle:{"margin-top":"25px"}},[t("div",{staticClass:"el-radio-group"},e._l(a.answer,(function(a,n){return t("label",{class:"true"===a.isTrue?"true":""},[t("span",[e._v(e._s(e.optionName[n]+"、"+a.answer))])])})),0)]),t("div",{directives:[{name:"show",rawName:"v-show",value:2===a.questionType,expression:"item.questionType === 2"}],staticStyle:{"margin-top":"25px"}},[t("div",{staticClass:"el-radio-group"},e._l(a.answer,(function(a,n){return t("label",{class:"true"===a.isTrue?"true":""},[t("span",[e._v(e._s(e.optionName[n]+"、"+a.answer))])])})),0)]),t("div",{directives:[{name:"show",rawName:"v-show",value:4===a.questionType,expression:"item.questionType === 4"}],staticStyle:{"margin-top":"25px"}},[t("div",[e._v("正确答案： "),e._l(a.answer,(function(a,n){return t("span",[e._v(" "+e._s(n+1+"、"+a.answer+"    ")+" ")])}))],2)])],2)})),0),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.examQuestionDialog=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.examQuestionDialog=!1}}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{visible:e.bigImgDialog},on:{"update:visible":function(t){e.bigImgDialog=t},close:function(t){e.bigImgDialog=!1}}},[t("img",{staticStyle:{width:"100%"},attrs:{src:e.bigImgUrl}})])],1)},o=[],i=a("39f0"),r=a("2ac8"),s={name:"ExamManage",data(){return{imgUrl:Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_IMAGE_URL,examQuestionDialog:!1,questionInfo:[],optionName:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],bigImgUrl:"",bigImgDialog:!1,queryInfo:{examType:null,startTime:null,create:null,endTime:null,examName:null,isMark:0,subsection:null,pageNo:0,pageSize:10},loading:!0,examType:[{info:"公开考试",type:1},{info:"需要密码",type:2}],selectionTable:[],operation:"",operationInfo:[{label:"启用",desc:"on"},{label:"禁用",desc:"off"},{label:"删除",desc:"delete"}],examInfo:[],total:0}},created(){this.getExamInfo()},methods:{async getQuestionInfoByIds(e){await r["a"].getQuestionByIds({ids:e}).then(e=>{var t;200===e.code&&(this.questionInfo=(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data)||[],this.questionInfo=this.questionInfo.sort((function(e,t){return e.questionType-t.questionType})),this.examQuestionDialog=!0)})},showBigImg(e){this.bigImgUrl=e,this.bigImgDialog=!0},previewExam(e){i["a"].getQuestionIdsByExamId({examId:e}).then(e=>{this.getQuestionInfoByIds(e.data)})},typeChange(e){this.queryInfo.examType=e,this.getExamInfo()},operationChange(e){let t=[];this.selectionTable.forEach(e=>{t.push(e.examId)}),"on"===e?i["a"].operationExam(1,{ids:t.join(",")}).then(e=>{200===e.code&&(this.getExamInfo(),this.$notify({type:"success",title:"Tips",message:"操作成功",duration:2e3}))}):"off"===e?i["a"].operationExam(2,{ids:t.join(",")}).then(e=>{200===e.code&&(this.getExamInfo(),this.$notify({type:"success",title:"Tips",message:"操作成功",duration:2e3}))}):"delete"===e&&i["a"].operationExam(3,{ids:t.join(",")}).then(e=>{200===e.code&&(this.getExamInfo(),this.$notify({type:"success",title:"Tips",message:"操作成功",duration:2e3}))})},getExamInfo(){i["a"].getExamInfo(this.queryInfo).then(e=>{200===e.code&&(this.examInfo=e.data.data,this.total=e.data.total,this.loading=!1)})},handleTableSectionChange(e){this.selectionTable=e},handleSizeChange(e){this.queryInfo.pageSize=e,this.getExamInfo()},handleCurrentChange(e){this.queryInfo.pageNo=e,this.getExamInfo()}}},l=s,u=(a("ccd9"),a("2877")),c=Object(u["a"])(l,n,o,!1,null,"436b6746",null);t["default"]=c.exports},ccd9:function(e,t,a){"use strict";a("2386")}}]);
//# sourceMappingURL=chunk-3cd2411a.a82b577a.js.map