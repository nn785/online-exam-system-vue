{"version":3,"sources":["webpack:///./src/api/exam.js","webpack:///./src/api/user.js","webpack:///./src/utils/constants.js","webpack:///./src/views/teacher/MarkManage.vue?68b1","webpack:///./src/views/teacher/MarkManage.vue","webpack:///src/views/teacher/MarkManage.vue","webpack:///./src/views/teacher/MarkManage.vue?2cee","webpack:///./src/views/teacher/MarkManage.vue?ca23"],"names":["getExamInfo","queryInfo","request","url","method","data","allExamInfo","operationExam","operateId","params","getExamRecord","getExamInfoById","addExamRecord","getExamRecordById","recordId","getExamQuestionByExamId","examId","addExamByBank","addExamByQuestionList","updateExamInfo","getQuestionIdsByExamId","getCurrentUser","updateCurrentUser","updateUser","getUserByIds","userIds","getUserInfo","handlerUser","addUser","defaultExamName","render","_vm","this","_c","_self","attrs","on","getExamRecords","model","value","callback","$$v","$set","expression","_l","item","index","key","examName","parseInt","staticStyle","_v","_s","isMark","subsection","directives","name","rawName","loading","ref","examRecords","scopedSlots","_u","fn","scope","row","totalScore","$event","$router","push","checkMarkButtonNeedShow","pageNo","pageSize","total","handleSizeChange","handleCurrentChange","staticRenderFns","created","getAllExamInfo","methods","exam","then","resp","code","sessionStorage","setItem","JSON","stringify","forEach","every","id","userId","userInfo","user","join","currentUserInfo","find","u","trueName","setExamName","parse","getItem","length","i2","constants","val","record","map","examInfo","includes","component"],"mappings":"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","file":"js/chunk-4bf5e6c4.46189944.js","sourcesContent":["import request from '@/utils/request'\n\nexport default {\n  getExamInfo (queryInfo) {\n    return request({\n      url: '/public/getExamInfo',\n      method: 'post',\n      data: queryInfo\n    })\n  },\n  allExamInfo () {\n    return request({\n      url: '/public/allExamInfo',\n      method: 'get'\n    })\n  },\n  operationExam (operateId, params) {\n    return request({\n      url: `/teacher/operationExam/${operateId}`,\n      method: 'get',\n      params: params\n    })\n  },\n  getExamRecord (params) {\n    return request({\n      url: '/teacher/getExamRecord',\n      method: 'get',\n      params: params\n    })\n  },\n  getExamInfoById (params) {\n    return request({\n      url: '/public/getExamInfoById',\n      method: 'get',\n      params: params\n    })\n  },\n  addExamRecord (data) {\n    return request({\n      url: '/student/addExamRecord',\n      method: 'post',\n      data: data\n    })\n  },\n  getExamRecordById (recordId) {\n    return request({\n      url: `/student/getExamRecordById/${recordId}`,\n      method: 'get'\n    })\n  },\n  getExamQuestionByExamId (examId) {\n    return request({\n      url: `/student/getExamQuestionByExamId/${examId}`,\n      method: 'get'\n    })\n  },\n  addExamByBank (data) {\n    return request({\n      url: `/teacher/addExamByBank`,\n      method: 'post',\n      data: data\n    })\n  },\n  addExamByQuestionList (data) {\n    return request({\n      url: '/teacher/addExamByQuestionList',\n      method: 'post',\n      data: data\n    })\n  },\n  updateExamInfo(data){\n    return request({\n      url: '/teacher/updateExamInfo',\n      method: 'post',\n      data: data\n    })\n  },\n  getQuestionIdsByExamId(params){\n    return request({\n      url: '/teacher/getQuestionIdsByExamId',\n      method: 'get',\n      params: params\n    })\n  }\n}\n","import request from '@/utils/request'\n\nexport default {\n  getCurrentUser () {\n    return request({\n      url: '/public/getCurrentUser',\n      method: 'get'\n    })\n  },\n  updateCurrentUser (updateUser) {\n    return request({\n      url: '/public/updateCurrentUser',\n      method: 'post',\n      data: updateUser\n    })\n  },\n  getUserByIds (userIds) {\n    return request({\n      url: `/teacher/getUserByIds`,\n      params: userIds,\n      method: 'get'\n    })\n  },\n  getUserInfo (params) {\n    return request({\n      url: '/admin/getUser',\n      method: 'get',\n      params: params\n    })\n  },\n  handlerUser (operateId, params) {\n    return request({\n      url: `/admin/handleUser/${operateId}`,\n      method: 'get',\n      params: params\n    })\n  },\n  addUser (data) {\n    return request({\n      url: '/admin/addUser',\n      method: 'post',\n      data: data\n    })\n  }\n}\n","export default {\n  defaultExamName: '<该考试不存在>'\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarkManage.vue?vue&type=style&index=0&id=25ee76f6&prod&scoped=true&lang=scss\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-container',[_c('el-header',[_c('el-select',{attrs:{\"placeholder\":\"请选择考试\"},on:{\"change\":_vm.getExamRecords},model:{value:(_vm.queryInfo.examId),callback:function ($$v) {_vm.$set(_vm.queryInfo, \"examId\", $$v)},expression:\"queryInfo.examId\"}},_vm._l((_vm.allExamInfo),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.examName,\"value\":parseInt(item.examId)}},[_c('span',{staticStyle:{\"float\":\"left\"}},[_vm._v(_vm._s(item.examName))])])}),1),_c('el-select',{staticStyle:{\"margin-left\":\"5px\"},on:{\"change\":_vm.getExamRecords},model:{value:(_vm.queryInfo.isMark),callback:function ($$v) {_vm.$set(_vm.queryInfo, \"isMark\", $$v)},expression:\"queryInfo.isMark\"}},[_c('el-option',{attrs:{\"label\":\"待批阅\",\"value\":0}}),_c('el-option',{attrs:{\"label\":\"已批阅\",\"value\":1}})],1),_c('el-select',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"clearable\":\"\",\"placeholder\":\"请选择分段\"},on:{\"change\":_vm.getExamRecords},model:{value:(_vm.queryInfo.subsection),callback:function ($$v) {_vm.$set(_vm.queryInfo, \"subsection\", $$v)},expression:\"queryInfo.subsection\"}},[_c('el-option',{attrs:{\"label\":\"满分\",\"value\":\"0\"}}),_c('el-option',{attrs:{\"label\":\"及格\",\"value\":\"1\"}}),_c('el-option',{attrs:{\"label\":\"未及格\",\"value\":\"2\"}})],1)],1),_c('el-main',[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"questionTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"highlight-current-row\":\"\",\"border\":true,\"data\":_vm.examRecords,\"tooltip-effect\":\"dark\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"examName\",\"label\":\"考试名称\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"examTime\",\"label\":\"参考时间\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"trueName\",\"label\":\"参考人\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"logicScore\",\"label\":\"逻辑题得分\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"是否批阅\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.totalScore === null ? '未批阅' : '已批阅'))])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"总分\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.totalScore === null ? 0 : scope.row.totalScore))])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"width\":\"250\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"round\":\"\",\"size\":\"small\",\"type\":\"success\",\"icon\":\"el-icon-info\"},on:{\"click\":function($event){return _vm.$router.push('/examResult/'+scope.row.recordId)}}},[_vm._v(\"详情 \")]),_c('el-button',{attrs:{\"type\":_vm.checkMarkButtonNeedShow(scope.row) ? 'primary' : 'warning',\"icon\":\"el-icon-view\",\"size\":\"small\",\"disabled\":!_vm.checkMarkButtonNeedShow(scope.row)},on:{\"click\":function($event){return _vm.$router.push('/markExam/' + scope.row.recordId)}}},[_vm._v(\" \"+_vm._s(_vm.checkMarkButtonNeedShow(scope.row) ? '待批阅' : '已批阅')+\" \")])]}}])})],1),_c('el-pagination',{staticStyle:{\"margin-top\":\"25px\"},attrs:{\"current-page\":_vm.queryInfo.pageNo,\"page-sizes\":[10, 20, 30, 50],\"page-size\":_vm.queryInfo.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-container>\n    <el-header>\n      <!--操作的下拉框-->\n      <el-select @change=\"getExamRecords\" v-model=\"queryInfo.examId\"\n                 placeholder=\"请选择考试\">\n        <el-option v-for=\"(item,index) in allExamInfo\" :key=\"index\" :label=\"item.examName\"\n                   :value=\"parseInt(item.examId)\">\n          <span style=\"float: left\">{{ item.examName }}</span>\n        </el-option>\n      </el-select>\n\n      <el-select @change=\"getExamRecords\" v-model=\"queryInfo.isMark\" style=\"margin-left: 5px\">\n        <el-option label=\"待批阅\" :value=\"0\"></el-option>\n        <el-option label=\"已批阅\" :value=\"1\"></el-option>\n      </el-select>\n\n      <el-select @change=\"getExamRecords\" clearable v-model=\"queryInfo.subsection\" placeholder=\"请选择分段\"\n                 style=\"margin-left: 5px\">\n        <el-option label=\"满分\" value=\"0\"></el-option>\n        <el-option label=\"及格\" value=\"1\"></el-option>\n        <el-option label=\"未及格\" value=\"2\"></el-option>\n      </el-select>\n\n    </el-header>\n\n    <el-main>\n      <el-table\n        ref=\"questionTable\"\n        highlight-current-row\n        v-loading=\"loading\"\n        :border=\"true\"\n        :data=\"examRecords\"\n        tooltip-effect=\"dark\"\n        style=\"width: 100%;\">\n\n        <el-table-column align=\"center\" prop=\"examName\" label=\"考试名称\"></el-table-column>\n\n        <el-table-column align=\"center\" prop=\"examTime\" label=\"参考时间\"></el-table-column>\n\n        <el-table-column align=\"center\" prop=\"trueName\" label=\"参考人\"></el-table-column>\n\n        <el-table-column align=\"center\" prop=\"logicScore\" label=\"逻辑题得分\"></el-table-column>\n\n        <el-table-column align=\"center\" label=\"是否批阅\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.totalScore === null ? '未批阅' : '已批阅' }}</span>\n          </template>\n        </el-table-column>\n\n        <el-table-column align=\"center\" label=\"总分\">\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.totalScore === null ? 0 : scope.row.totalScore }}</span>\n          </template>\n        </el-table-column>\n\n        <el-table-column align=\"center\" label=\"操作\" width=\"250\">\n          <template slot-scope=\"scope\">\n            <el-button round size=\"small\" type=\"success\" icon=\"el-icon-info\"\n                       @click=\"$router.push('/examResult/'+scope.row.recordId)\">详情\n            </el-button>\n            <el-button :type=\"checkMarkButtonNeedShow(scope.row) ? 'primary' : 'warning'\" icon=\"el-icon-view\"\n                       size=\"small\"\n                       :disabled=\"!checkMarkButtonNeedShow(scope.row)\"\n                       @click=\"$router.push('/markExam/' + scope.row.recordId)\">\n              {{ checkMarkButtonNeedShow(scope.row) ? '待批阅' : '已批阅' }}\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <!--分页-->\n      <el-pagination style=\"margin-top: 25px\"\n                     @size-change=\"handleSizeChange\"\n                     @current-change=\"handleCurrentChange\"\n                     :current-page=\"queryInfo.pageNo\"\n                     :page-sizes=\"[10, 20, 30, 50]\"\n                     :page-size=\"queryInfo.pageSize\"\n                     layout=\"total, sizes, prev, pager, next, jumper\"\n                     :total=\"total\">\n      </el-pagination>\n    </el-main>\n  </el-container>\n</template>\n\n<script>\nimport exam from '@/api/exam'\nimport user from '@/api/user'\nimport constants from '@/utils/constants'\n\nexport default {\n  name: 'MarkManage',\n  data() {\n    return {\n      queryInfo: {\n        pageNo: 1,\n        pageSize: 10,\n        examId: null,\n        isMark: 0,\n        subsection: null,\n      },\n      //考试记录\n      examRecords: [],\n      //表格数据加载\n      loading: true,\n      //所有考试信息\n      allExamInfo: [],\n      //总数\n      total: 0\n    }\n  },\n  created() {\n    this.getAllExamInfo()\n  },\n  methods: {\n    async getExamRecords() {\n      await exam.getExamRecord(this.queryInfo).then(async resp => {\n        if (resp.code === 200) {\n          sessionStorage.setItem('queryInfo', JSON.stringify(this.queryInfo))\n          let userIds = []\n          resp.data.data.forEach(item => {\n            if (userIds.every(id => id !== item.userId)) {\n              userIds.push(item.userId)\n            }\n          })\n          let userInfo = []\n          await user.getUserByIds({'userIds': userIds.join(',')}).then(resp => {\n            if (resp.code === 200) {\n              userInfo = resp.data\n            }\n          })\n          resp.data.data.forEach(item => {\n            const currentUserInfo = userInfo.find(u => u.id === item.userId)\n            item.trueName = currentUserInfo?.trueName\n          })\n          this.examRecords = resp.data.data\n          // 当examRecords和examInfo准备好之后处理\n          this.setExamName()\n          this.total = resp.data.total\n          this.loading = false\n        }\n      })\n    },\n    getAllExamInfo() {\n      exam.allExamInfo().then((resp) => {\n        if (resp.code === 200) {\n          this.allExamInfo = resp.data\n          let queryInfo = JSON.parse(sessionStorage.getItem(\"queryInfo\"));\n          if (queryInfo) {\n            this.queryInfo = queryInfo\n          } else if (resp.data.length !== 0) {\n            this.queryInfo.examId = resp.data[0].examId\n          }\n          this.getExamRecords()\n        }\n      })\n    },\n    setExamName() {\n      this.examRecords.forEach(item => {\n        this.allExamInfo.forEach(i2 => {\n          if (item.examId === i2.examId) {\n            this.$set(item, 'examName', i2.examName)\n          }\n        })\n        if (!item.examName) {\n          this.$set(item, 'examName', constants.defaultExamName)\n        }\n      })\n    },\n    //分页页面大小改变\n    handleSizeChange(val) {\n      this.queryInfo.pageSize = val\n      this.getExamRecords()\n    },\n    //分页插件的页数\n    handleCurrentChange(val) {\n      this.queryInfo.pageNo = val\n      this.getExamRecords()\n    },\n    //检查批阅按钮是否展示\n    checkMarkButtonNeedShow(record) {\n      return record.totalScore === null && this.allExamInfo\n        .map(examInfo => examInfo.examId)\n        .includes(record.examId)\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"../../assets/css/teacher/markManage\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarkManage.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarkManage.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MarkManage.vue?vue&type=template&id=25ee76f6&scoped=true\"\nimport script from \"./MarkManage.vue?vue&type=script&lang=js\"\nexport * from \"./MarkManage.vue?vue&type=script&lang=js\"\nimport style0 from \"./MarkManage.vue?vue&type=style&index=0&id=25ee76f6&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"25ee76f6\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}