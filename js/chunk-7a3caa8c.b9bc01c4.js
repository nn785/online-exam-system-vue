(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a3caa8c"],{"2ac8":function(e,t,a){"use strict";var r=a("b775");t["a"]={getQuestionById(e){return Object(r["a"])({url:"/student/getQuestionById/"+e,method:"get"})},getQuestionByIds(e){return Object(r["a"])({url:"/student/getQuestionByIds",params:e,method:"get"})},getQuestion(e){return Object(r["a"])({url:"/teacher/getQuestion",method:"get",params:e})},deleteQuestion(e){return Object(r["a"])({url:"/teacher/deleteQuestion",method:"get",params:e})},addQuestion(e){return Object(r["a"])({url:"/teacher/addQuestion",method:"post",data:e})},importQuestion(e){return Object(r["a"])({url:"/teacher/importQuestion",method:"post",data:e})},updateQuestion(e){return Object(r["a"])({url:"/teacher/updateQuestion",method:"post",data:e})},getQuestionByBankIdAndType(e){return Object(r["a"])({url:"/public/getQuestionByBankIdAndType",method:"get",params:e})}}},"391d":function(e,t,a){"use strict";a.r(t);a("14d9");var r=function(){var e=this,t=e._self._c;return t("el-container",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingCertificate,expression:"loadingCertificate"}],attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[t("el-header",{attrs:{height:"210"}},[t("el-select",{staticStyle:{"margin-bottom":"25px"},attrs:{clearable:"",placeholder:"请选择考试"},on:{change:e.operation},model:{value:e.queryInfo.examId,callback:function(t){e.$set(e.queryInfo,"examId",t)},expression:"queryInfo.examId"}},e._l(e.allExamInfo,(function(a,r){return t("el-option",{key:r,attrs:{label:a.examName,value:parseInt(a.examId)}},[t("span",{staticStyle:{float:"left"}},[e._v(e._s(a.examName))])])})),1)],1),t("el-main",[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"questionTable",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",border:!0,data:e.grade,"tooltip-effect":"dark"}},[t("el-table-column",{attrs:{align:"center",prop:"examName",label:"考试名称"}}),t("el-table-column",{attrs:{align:"center",prop:"examTime",label:"考试时间"}}),t("el-table-column",{attrs:{align:"center",prop:"logicScore",label:"逻辑得分"}}),t("el-table-column",{attrs:{align:"center",prop:"passScore",label:"及格线"}}),t("el-table-column",{attrs:{align:"center",label:"总得分"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(null===t.row.totalScore?"暂未批阅":t.row.totalScore)+" ")]}}])}),t("el-table-column",{attrs:{align:"center",label:"是否通过"},scopedSlots:e._u([{key:"default",fn:function(a){return[e.isOrNotPassExam(a.row)?t("span",{staticStyle:{color:"limegreen"}},[e._v("通过")]):e._e(),e.isOrNotPassExam(a.row)?e._e():t("span",{staticStyle:{color:"red"}},[e._v("未通过")])]}}])}),t("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{round:"",size:"small",type:"primary",icon:"el-icon-info"},on:{click:function(t){return e.$router.push("/examResult/"+a.row.recordId)}}},[e._v("详情 ")]),t("el-button",{attrs:{round:"",size:"small",type:"danger",icon:"el-icon-error"},on:{click:function(t){return e.showErrorQuestion(a.row)}}},[e._v("错题 ")])]}}])})],1),t("el-pagination",{staticStyle:{"margin-top":"25px"},attrs:{"current-page":e.queryInfo.pageNo,"page-sizes":[10,20,30,50],"page-size":e.queryInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),t("el-dialog",{attrs:{title:"错题详情",center:"",visible:e.errorQuestionDialog},on:{"update:visible":function(t){e.errorQuestionDialog=t}}},[t("el-card",e._l(e.questionInfo,(function(a,r){return t("div",{key:r,staticStyle:{"margin-top":"15px"}},[t("div",[t("i",{staticClass:"num"},[e._v(e._s(r+1))]),1===a.questionType?t("span",[e._v("【单选题】")]):2===a.questionType?t("span",[e._v("【多选题】")]):3===a.questionType?t("span",[e._v("【判断题】")]):e._e(),t("span",[e._v(e._s(a.questionContent))])]),e._l(a.images,(function(a){return t("img",{staticStyle:{width:"100px",height:"100px",cursor:"pointer"},attrs:{src:e.imgUrl+a,title:"点击查看大图",alt:"题目图片"},on:{click:function(t){return e.showBigImg(e.imgUrl+a)}}})})),t("div",{directives:[{name:"show",rawName:"v-show",value:1===a.questionType||3===a.questionType,expression:"item.questionType === 1 || item.questionType === 3"}],staticStyle:{"margin-top":"25px"}},[t("div",{staticClass:"el-radio-group"},e._l(a.answer,(function(a,n){return t("label",{class:String(n)===e.userAnswer[r]&&"true"===a.isTrue?"activeAndTrue":String(n)===e.userAnswer[r]?"active":"true"===a.isTrue?"true":""},[t("span",[e._v(e._s(e.optionName[n]+"、"+a.answer))])])})),0)]),t("div",{directives:[{name:"show",rawName:"v-show",value:2===a.questionType,expression:"item.questionType === 2"}],staticStyle:{"margin-top":"25px"}},[t("div",{staticClass:"el-radio-group"},e._l(a.answer,(function(a,n){return t("label",{class:-1!==(e.userAnswer[r]+"").indexOf(n+"")&&"true"===a.isTrue?"activeAndTrue":-1!==(e.userAnswer[r]+"").indexOf(n+"")?"active":"true"===a.isTrue?"true":""},[t("span",[e._v(e._s(e.optionName[n]+"、"+a.answer))])])})),0)]),t("div",{directives:[{name:"show",rawName:"v-show",value:4===a.questionType,expression:"item.questionType === 4"}],staticStyle:{"margin-top":"25px"}},[t("div",[e._v("正确答案： "),e._l(a.answer,(function(a,r){return t("span",[e._v(" "+e._s(r+1+"、"+a.answer+"    ")+" ")])}))],2)])],2)})),0),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.errorQuestionDialog=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.errorQuestionDialog=!1}}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{visible:e.bigImgDialog},on:{"update:visible":function(t){e.bigImgDialog=t},close:function(t){e.bigImgDialog=!1}}},[t("img",{staticStyle:{width:"100%"},attrs:{src:e.bigImgUrl}})])],1)},n=[],o=a("b775"),i={getMyGrade(e){return Object(o["a"])({url:"/student/getMyGrade",method:"get",params:e})}},s=a("39f0"),l=a("2ac8"),u=a("c9d9"),d={name:"MyGrade",data(){return{imgUrl:Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_IMAGE_URL,queryInfo:{pageNo:1,pageSize:10,username:localStorage.getItem("username")},grade:[],allExamInfo:[],total:0,loading:!0,errorQuestionDialog:!1,questionInfo:[],userAnswer:[],optionName:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],bigImgUrl:"",bigImgDialog:!1,loadingCertificate:!1}},created(){this.getMyGrade()},methods:{getMyGrade(){i.getMyGrade(this.queryInfo).then(e=>{200===e.code&&(this.grade=e.data.data,this.total=e.data.total,this.getAllExamInfo(),this.loading=!1)})},setExamName(){this.grade.forEach(e=>{this.allExamInfo.forEach(t=>{e.examId===t.examId&&(this.$set(e,"examName",t.examName),this.$set(e,"passScore",t.passScore))}),e.examName||this.$set(e,"examName",u["a"].defaultExamName)})},getAllExamInfo(){s["a"].allExamInfo().then(e=>{200===e.code&&(this.allExamInfo=e.data,this.setExamName())})},operation(e){""===e&&(this.queryInfo.examId=null),this.getMyGrade()},handleSizeChange(e){this.queryInfo.pageSize=e,this.getMyGrade()},handleCurrentChange(e){this.queryInfo.pageNo=e,this.getMyGrade()},async getQuestionInfoByIds(e){await l["a"].getQuestionByIds({ids:e}).then(e=>{var t;200===e.code&&(this.questionInfo=(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data)||[],this.questionInfo=this.questionInfo.sort((function(e,t){return e.questionType-t.questionType})))})},showErrorQuestion(e){null===e.errorQuestionIds?this.$message.warning("当前考试没有逻辑错题O(∩_∩)O~"):(this.userAnswer=e.userAnswers.split("-"),this.getQuestionInfoByIds(e.errorQuestionIds),this.errorQuestionDialog=!0)},showBigImg(e){this.bigImgUrl=e,this.bigImgDialog=!0}},computed:{isOrNotPassExam(e){return e=>{let t=!1;return this.allExamInfo.forEach(a=>{a.examId===e.examId&&(t=e.totalScore>=a.passScore)}),t}}}},c=d,m=(a("cff4"),a("2877")),g=Object(m["a"])(c,r,n,!1,null,"5bec786c",null);t["default"]=g.exports},"39f0":function(e,t,a){"use strict";var r=a("b775");t["a"]={getExamInfo(e){return Object(r["a"])({url:"/public/getExamInfo",method:"post",data:e})},allExamInfo(){return Object(r["a"])({url:"/public/allExamInfo",method:"get"})},operationExam(e,t){return Object(r["a"])({url:"/teacher/operationExam/"+e,method:"get",params:t})},getExamRecord(e){return Object(r["a"])({url:"/teacher/getExamRecord",method:"get",params:e})},getExamInfoById(e){return Object(r["a"])({url:"/public/getExamInfoById",method:"get",params:e})},addExamRecord(e){return Object(r["a"])({url:"/student/addExamRecord",method:"post",data:e})},getExamRecordById(e){return Object(r["a"])({url:"/student/getExamRecordById/"+e,method:"get"})},getExamQuestionByExamId(e){return Object(r["a"])({url:"/student/getExamQuestionByExamId/"+e,method:"get"})},addExamByBank(e){return Object(r["a"])({url:"/teacher/addExamByBank",method:"post",data:e})},addExamByQuestionList(e){return Object(r["a"])({url:"/teacher/addExamByQuestionList",method:"post",data:e})},updateExamInfo(e){return Object(r["a"])({url:"/teacher/updateExamInfo",method:"post",data:e})},getQuestionIdsByExamId(e){return Object(r["a"])({url:"/teacher/getQuestionIdsByExamId",method:"get",params:e})}}},"8f27":function(e,t,a){},c9d9:function(e,t,a){"use strict";t["a"]={defaultExamName:"<该考试不存在>"}},cff4:function(e,t,a){"use strict";a("8f27")}}]);
//# sourceMappingURL=chunk-7a3caa8c.b9bc01c4.js.map