(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0af488"],{"0e52":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e._self._c;return t("el-container",[t("el-header",[t("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"搜索日志","prefix-icon":"el-icon-search"},on:{blur:e.getLoggingInfo},model:{value:e.queryInfo.content,callback:function(t){e.$set(e.queryInfo,"content",t)},expression:"queryInfo.content"}})],1),t("el-main",[0!==e.selectedInTable.length?t("el-select",{staticStyle:{"margin-bottom":"25px"},attrs:{clearable:"",placeholder:"已选择"+e.selectedInTable.length+"项"},on:{change:e.selectChange},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},e._l(e.optionInfo,(function(n,a){return t("el-option",{key:a,attrs:{value:n.desc}},[t("span",{staticStyle:{float:"left"}},[e._v(e._s(n.label))]),t("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(n.desc))])])})),1):e._e(),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",border:!0,data:e.loggingInfo,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{align:"center",type:"selection",width:"55"}}),t("el-table-column",{attrs:{align:"center",prop:"operation",label:"操作描述"}}),t("el-table-column",{attrs:{align:"center",prop:"method",label:"请求方法名"}}),t("el-table-column",{attrs:{align:"center",prop:"params",label:"请求参数"}}),t("el-table-column",{attrs:{align:"center",prop:"time",label:"执行时间（毫秒）"}}),t("el-table-column",{attrs:{align:"center",prop:"createUser",label:"操作用户"}}),t("el-table-column",{attrs:{align:"center",label:"操作时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(new Date(t.row.createTime).toLocaleString())+" ")]}}])})],1),t("el-pagination",{staticStyle:{"margin-top":"25px"},attrs:{"current-page":e.queryInfo.pageNo,"page-sizes":[10,20,30,50],"page-size":e.queryInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},l=[],o=(n("14d9"),n("b775")),i={getAllLogging(e){return Object(o["a"])({url:"/admin/getLogging",method:"get",params:e})},deleteLogging(e){return Object(o["a"])({url:"/admin/deleteLogging",method:"get",params:e})}},g={name:"LoggingManage",data(){return{queryInfo:{content:"",pageNo:1,pageSize:10},optionInfo:[{label:"删除",desc:"delete"}],selected:"",loggingInfo:[],loading:!0,total:0,selectedInTable:[]}},created(){this.getLoggingInfo()},methods:{getLoggingInfo(){i.getAllLogging(this.queryInfo).then(e=>{200===e.code&&(this.loggingInfo=e.data.data,this.total=e.data.total,this.loading=!1)})},handleSelectionChange(e){this.selectedInTable=e},handleSizeChange(e){this.queryInfo.pageSize=e,this.getLoggingInfo()},handleCurrentChange(e){this.queryInfo.pageNo=e,this.getLoggingInfo()},selectChange(e){this.selected="";let t=[];this.selectedInTable.map(e=>{t.push(e.nid)}),"delete"===e&&i.deleteLogging({ids:t.join(",")}).then(e=>{200===e.code&&(this.getLoggingInfo(),this.$notify({title:"Tips",message:e.message,type:"success",duration:2e3}))})}}},r=g,s=n("2877"),c=Object(s["a"])(r,a,l,!1,null,"65df3c65",null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0af488.9d1f7cd5.js.map