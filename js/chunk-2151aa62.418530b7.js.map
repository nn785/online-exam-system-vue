{"version":3,"sources":["webpack:///./src/api/question.js","webpack:///./src/views/student/ExamPage.vue","webpack:///src/views/student/ExamPage.vue","webpack:///./src/views/student/ExamPage.vue?3708","webpack:///./src/views/student/ExamPage.vue?d821","webpack:///./src/api/exam.js","webpack:///./src/views/student/ExamPage.vue?a7c0"],"names":["getQuestionById","questionId","request","url","method","getQuestionByIds","questionIds","params","getQuestion","queryInfo","deleteQuestion","addQuestion","question","data","importQuestion","updateQuestion","getQuestionByBankIdAndType","render","_vm","this","_c","_self","show","staticStyle","attrs","staticClass","_v","_s","_f","duration","on","uploadExamToAdmin","curIndex","questionInfo","questionType","questionContent","_l","images","imgUrl","$event","showBigImg","directives","name","rawName","value","expression","answer","item","index","class","userAnswer","checkSingleAnswer","optionName","indexOf","selectedMultipleAnswer","model","callback","$$v","$set","length","key","undefined","domProps","bigImgDialog","bigImgUrl","_e","staticRenderFns","process","VUE_APP_IMAGE_URL","examInfo","loading","created","getExamInfo","$Loading","service","body","lock","text","spinner","mounted","userAgent","navigator","isOpera","isIE","isIE11","isEdge","_beforeUnload_time","_gap_time","window","onunload","Date","getTime","localStorage","removeItem","examId","onbeforeunload","methods","exam","getExamInfoById","$route","then","resp","code","examDuration","JSON","parse","getItem","now","timestamp","Math","min","e","timer","setInterval","getQuestionInfo","split","ids","join","_resp$data","sort","a","b","close","String","includes","newArr","forEach","push","submitExam","addExamRecord","$notify","title","message","type","$router","reg1","RegExp","reg2","replace","flag","i","userAnswers","parseInt","$confirm","confirmButtonText","cancelButtonText","catch","watch","newVal","setItem","stringify","component","allExamInfo","operationExam","operateId","getExamRecord","getExamRecordById","recordId","getExamQuestionByExamId","addExamByBank","addExamByQuestionList","updateExamInfo","getQuestionIdsByExamId"],"mappings":"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","file":"js/chunk-2151aa62.418530b7.js","sourcesContent":["import request from '@/utils/request'\n\nexport default {\n  getQuestionById (questionId) {\n    return request({\n      url: `/student/getQuestionById/${questionId}`,\n      method: 'get'\n    })\n  },\n  getQuestionByIds (questionIds) {\n    return request({\n      url: `/student/getQuestionByIds`,\n      params: questionIds,\n      method: 'get'\n    })\n  },\n  getQuestion (queryInfo) {\n    return request({\n      url: '/teacher/getQuestion',\n      method: 'get',\n      params: queryInfo\n    })\n  },\n  deleteQuestion (questionIds) {\n    return request({\n      url: '/teacher/deleteQuestion',\n      method: 'get',\n      params: questionIds\n    })\n  },\n  addQuestion (question) {\n    return request({\n      url: '/teacher/addQuestion',\n      method: 'post',\n      data: question\n    })\n  },\n  importQuestion (question) {\n    return request({\n      url: '/teacher/importQuestion',\n      method: 'post',\n      data: question\n    })\n  },\n  updateQuestion (question) {\n    return request({\n      url: '/teacher/updateQuestion',\n      method: 'post',\n      data: question\n    })\n  },\n  getQuestionByBankIdAndType(params){\n    return request({\n      url: '/public/getQuestionByBankIdAndType',\n      method: 'get',\n      params: params\n    })\n  }\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.show)?_c('el-container',[_c('el-header',{staticStyle:{\"margin-top\":\"60px\"}},[_c('el-row',[_c('el-col',{staticStyle:{\"border-bottom\":\"1px solid #f5f5f5\"},attrs:{\"span\":18,\"offset\":3}},[_c('span',{staticClass:\"startExam\"},[_vm._v(\"开始考试\")]),_c('span',{staticClass:\"examTitle\"},[_vm._v(\"距离考试结束还有：\")]),_c('span',{staticStyle:{\"color\":\"red\",\"font-size\":\"18px\"}},[_vm._v(_vm._s(_vm._f(\"timeFormat\")(_vm.duration)))]),_c('el-button',{staticStyle:{\"background-color\":\"#ffd550\",\"float\":\"right\",\"color\":\"black\",\"font-weight\":\"800\"},attrs:{\"type\":\"warning\",\"round\":\"\"},on:{\"click\":_vm.uploadExamToAdmin}},[_vm._v(\"提交试卷 \")])],1)],1)],1),_c('el-main',[_c('el-row',[_c('el-col',{attrs:{\"span\":18,\"offset\":3}},[_c('el-col',{attrs:{\"span\":16}},[_c('el-card',{staticStyle:{\"min-height\":\"500px\"}},[_c('div',[_c('i',{staticClass:\"num\"},[_vm._v(_vm._s(_vm.curIndex + 1))]),(_vm.questionInfo[_vm.curIndex].questionType === 1)?_c('span',[_vm._v(\"【单选题】\")]):(_vm.questionInfo[_vm.curIndex].questionType === 2)?_c('span',[_vm._v(\"【多选题】\")]):(_vm.questionInfo[_vm.curIndex].questionType === 3)?_c('span',[_vm._v(\"【判断题】\")]):(_vm.questionInfo[_vm.curIndex].questionType === 4)?_c('span',[_vm._v(\"【填空题】\")]):_c('span',[_vm._v(\"【简答题】\")]),_c('span',[_vm._v(_vm._s(_vm.questionInfo[_vm.curIndex].questionContent))])]),_vm._l((_vm.questionInfo[_vm.curIndex].images),function(url){return _c('img',{staticStyle:{\"width\":\"100px\",\"height\":\"100px\",\"cursor\":\"pointer\"},attrs:{\"src\":_vm.imgUrl+url,\"title\":\"点击查看大图\",\"alt\":\"题目图片\"},on:{\"click\":function($event){return _vm.showBigImg(url)}}})}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.questionInfo[_vm.curIndex].questionType === 1 || _vm.questionInfo[_vm.curIndex].questionType === 3),expression:\"questionInfo[curIndex].questionType === 1 || questionInfo[curIndex].questionType === 3\"}],staticStyle:{\"margin-top\":\"25px\"}},[_c('div',{staticClass:\"el-radio-group\"},_vm._l((_vm.questionInfo[_vm.curIndex].answer),function(item,index){return _c('label',{class:index === _vm.userAnswer[_vm.curIndex] ? 'active' : '',on:{\"click\":function($event){return _vm.checkSingleAnswer(index)}}},[_c('span',[_vm._v(_vm._s(_vm.optionName[index] + '、' + item.answer))])])}),0)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.questionInfo[_vm.curIndex].questionType === 2),expression:\"questionInfo[curIndex].questionType === 2\"}],staticStyle:{\"margin-top\":\"25px\"}},[_c('div',{staticClass:\"el-radio-group\"},_vm._l((_vm.questionInfo[_vm.curIndex].answer),function(item,index){return _c('label',{class:(_vm.userAnswer[_vm.curIndex]+'').indexOf(index+'') !== -1? 'active' : '',on:{\"click\":function($event){return _vm.selectedMultipleAnswer(index)}}},[_c('span',[_vm._v(_vm._s(_vm.optionName[index] + '、' + item.answer))])])}),0)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.questionInfo[_vm.curIndex].questionType === 4),expression:\"questionInfo[curIndex].questionType === 4\"}],staticStyle:{\"margin-top\":\"25px\"}},[_c('div',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"* 多个空请用“ ; ”隔开\")]),_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":8,\"placeholder\":\"请输入答案\"},model:{value:(_vm.userAnswer[_vm.curIndex]),callback:function ($$v) {_vm.$set(_vm.userAnswer, _vm.curIndex, $$v)},expression:\"userAnswer[curIndex]\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.questionInfo[_vm.curIndex].questionType === 5),expression:\"questionInfo[curIndex].questionType === 5\"}],staticStyle:{\"margin-top\":\"25px\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":8,\"placeholder\":\"请输入答案\"},model:{value:(_vm.userAnswer[_vm.curIndex]),callback:function ($$v) {_vm.$set(_vm.userAnswer, _vm.curIndex, $$v)},expression:\"userAnswer[curIndex]\"}})],1),_c('div',{staticStyle:{\"margin-top\":\"25px\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-back\",\"disabled\":_vm.curIndex<1},on:{\"click\":function($event){_vm.curIndex--}}},[_vm._v(\"上一题\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-right\",\"disabled\":_vm.curIndex>=_vm.questionInfo.length-1},on:{\"click\":function($event){_vm.curIndex++}}},[_vm._v(\"下一题 \")])],1)],2)],1),_c('el-col',{attrs:{\"span\":7,\"offset\":1}},[_c('el-card',[_c('div',[_c('p',{staticStyle:{\"font-size\":\"18px\"}},[_vm._v(\"答题卡\")]),_c('div',{staticStyle:{\"margin-top\":\"25px\"}},[_c('span',{staticStyle:{\"background-color\":\"rgb(238,238,238)\",\"padding\":\"5px 10px 5px 10px\",\"margin-left\":\"15px\"}},[_vm._v(\"未作答\")]),_c('span',{staticStyle:{\"background-color\":\"rgb(87,148,247)\",\"color\":\"white\",\"padding\":\"5px 10px 5px 10px\",\"margin-left\":\"15px\"}},[_vm._v(\"已作答\")])])]),_c('div',{staticStyle:{\"margin-top\":\"25px\"}},[_c('p',{staticStyle:{\"font-size\":\"18px\"}},[_vm._v(\"单选题\")]),_vm._l((_vm.questionInfo.length),function(item){return _c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.questionInfo[item-1].questionType === 1),expression:\"questionInfo[item-1].questionType === 1\"}],key:item,class:_vm.questionInfo[item-1].questionType === 1 && _vm.userAnswer[item-1] !== undefined ?\n                          'done' : _vm.userAnswer[item-1] === undefined ? _vm.curIndex === (item-1) ? 'orange' : 'noAnswer' : 'noAnswer',staticStyle:{\"margin-top\":\"10px\",\"margin-left\":\"15px\"},attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.curIndex = item-1}}},[_vm._v(_vm._s(item)+\" \")])})],2),_c('div',{staticStyle:{\"margin-top\":\"25px\"}},[_c('p',{staticStyle:{\"font-size\":\"18px\"}},[_vm._v(\"多选题\")]),_vm._l((_vm.questionInfo.length),function(item){return _c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.questionInfo[item-1].questionType === 2),expression:\"questionInfo[item-1].questionType === 2\"}],key:item,class:_vm.questionInfo[item-1].questionType === 2 && _vm.userAnswer[item-1] !== undefined ?\n                          'done' : _vm.userAnswer[item-1] === undefined ? _vm.curIndex === (item-1) ? 'orange' : 'noAnswer' : 'noAnswer',staticStyle:{\"margin-top\":\"10px\",\"margin-left\":\"15px\"},attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.curIndex = item-1}}},[_vm._v(_vm._s(item)+\" \")])})],2),_c('div',{staticStyle:{\"margin-top\":\"25px\"}},[_c('p',{staticStyle:{\"font-size\":\"18px\"}},[_vm._v(\"判断题\")]),_vm._l((_vm.questionInfo.length),function(item){return _c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.questionInfo[item-1].questionType === 3),expression:\"questionInfo[item-1].questionType === 3\"}],key:item,class:_vm.questionInfo[item-1].questionType === 3 && _vm.userAnswer[item-1] !== undefined ?\n                          'done' : _vm.userAnswer[item-1] === undefined ? _vm.curIndex === (item-1) ? 'orange' : 'noAnswer' : 'noAnswer',staticStyle:{\"margin-top\":\"10px\",\"margin-left\":\"15px\"},attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.curIndex = item-1}}},[_vm._v(_vm._s(item)+\" \")])})],2),_c('div',{staticStyle:{\"margin-top\":\"25px\"}},[_c('p',{staticStyle:{\"font-size\":\"18px\"}},[_vm._v(\"填空题\")]),_vm._l((_vm.questionInfo.length),function(item){return _c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.questionInfo[item-1].questionType === 4),expression:\"questionInfo[item-1].questionType === 4\"}],key:item,class:_vm.questionInfo[item-1].questionType === 4 && _vm.userAnswer[item-1] !== undefined ?\n                          'done' : _vm.userAnswer[item-1] === undefined ? _vm.curIndex === (item-1) ? 'orange' : 'noAnswer' : 'noAnswer',staticStyle:{\"margin-top\":\"10px\",\"margin-left\":\"15px\"},attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.curIndex = item-1}}},[_vm._v(_vm._s(item)+\" \")])})],2),_c('div',{staticStyle:{\"margin-top\":\"25px\"}},[_c('p',{staticStyle:{\"font-size\":\"18px\"}},[_vm._v(\"简答题\")]),_vm._l((_vm.questionInfo.length),function(item){return _c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.questionInfo[item-1].questionType === 5),expression:\"questionInfo[item-1].questionType === 5\"}],key:item,class:_vm.questionInfo[item-1].questionType === 5 && _vm.userAnswer[item-1] !== undefined ?\n                          'done' : _vm.userAnswer[item-1] === undefined ? _vm.curIndex === (item-1) ? 'orange' : 'noAnswer' : 'noAnswer',staticStyle:{\"margin-top\":\"10px\",\"margin-left\":\"15px\"},attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.curIndex = item-1}}},[_vm._v(_vm._s(item)+\" \")])})],2)])],1)],1)],1),_c('video',{staticStyle:{\"float\":\"right\",\"position\":\"fixed\",\"top\":\"80%\",\"left\":\"85%\"},attrs:{\"id\":\"video\",\"muted\":\"muted\",\"width\":\"200px\",\"height\":\"200px\",\"autoplay\":\"autoplay\"},domProps:{\"muted\":true}}),_c('canvas',{attrs:{\"id\":\"canvas\",\"hidden\":\"\",\"width\":\"200px\",\"height\":\"200px\"}})],1),_c('el-dialog',{attrs:{\"visible\":_vm.bigImgDialog},on:{\"update:visible\":function($event){_vm.bigImgDialog=$event},\"close\":function($event){_vm.bigImgDialog = false}}},[_c('img',{staticStyle:{\"width\":\"100%\"},attrs:{\"src\":_vm.imgUrl+_vm.bigImgUrl}})])],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n  <el-container v-if=\"show\">\n    <el-header style=\"margin-top: 60px\">\n      <el-row>\n        <el-col :span=\"18\" :offset=\"3\" style=\"border-bottom: 1px solid #f5f5f5\">\n          <span class=\"startExam\">开始考试</span>\n          <span class=\"examTitle\">距离考试结束还有：</span>\n          <span style=\"color: red;font-size: 18px;\">{{ duration | timeFormat }}</span>\n          <el-button type=\"warning\" round\n                     style=\"background-color: #ffd550;float: right;color: black;font-weight: 800\"\n                     @click=\"uploadExamToAdmin\">提交试卷\n          </el-button>\n        </el-col>\n      </el-row>\n    </el-header>\n\n    <el-main>\n      <el-row>\n        <el-col :span=\"18\" :offset=\"3\">\n          <el-col :span=\"16\">\n            <el-card style=\"min-height: 500px\">\n              <!--题目信息-->\n              <div>\n                <i class=\"num\">{{ curIndex + 1 }}</i>\n                <span v-if=\"questionInfo[curIndex].questionType === 1\">【单选题】</span>\n                <span v-else-if=\"questionInfo[curIndex].questionType === 2\">【多选题】</span>\n                <span v-else-if=\"questionInfo[curIndex].questionType === 3\">【判断题】</span>\n                <span v-else-if=\"questionInfo[curIndex].questionType === 4\">【填空题】</span>\n                <span v-else>【简答题】</span>\n                <span>{{ questionInfo[curIndex].questionContent }}</span>\n              </div>\n              <!--题目中的配图-->\n              <img v-for=\"url in questionInfo[curIndex].images\" :src=\"imgUrl+url\" title=\"点击查看大图\" alt=\"题目图片\"\n                   style=\"width: 100px;height: 100px;cursor: pointer\" @click=\"showBigImg(url)\">\n\n              <!--单选 和 判断 的答案列表-->\n              <div style=\"margin-top: 25px\"\n                   v-show=\"questionInfo[curIndex].questionType === 1 || questionInfo[curIndex].questionType === 3\">\n                <div class=\"el-radio-group\">\n                  <label v-for=\"(item,index) in questionInfo[curIndex].answer\"\n                         @click=\"checkSingleAnswer(index)\"\n                         :class=\"index === userAnswer[curIndex] ? 'active' : ''\">\n                    <span>{{ optionName[index] + '、' + item.answer }}</span>\n                  </label>\n                </div>\n              </div>\n\n              <!--多选的答案列表-->\n              <div style=\"margin-top: 25px\" v-show=\"questionInfo[curIndex].questionType === 2\">\n                <div class=\"el-radio-group\">\n                  <label v-for=\"(item,index) in questionInfo[curIndex].answer\"\n                         @click=\"selectedMultipleAnswer(index)\"\n                         :class=\"(userAnswer[curIndex]+'').indexOf(index+'') !== -1? 'active' : ''\">\n                    <span>{{ optionName[index] + '、' + item.answer }}</span>\n                  </label>\n                </div>\n              </div>\n\n              <!--填空题的答案-->\n              <div style=\"margin-top: 25px\" v-show=\"questionInfo[curIndex].questionType === 4\">\n                <div style=\"color: red\">* 多个空请用“ ; ”隔开</div>\n                <el-input\n                  type=\"textarea\"\n                  :rows=\"8\"\n                  placeholder=\"请输入答案\"\n                  v-model=\"userAnswer[curIndex]\">\n                </el-input>\n              </div>\n\n              <!--简答题的答案-->\n              <div style=\"margin-top: 25px\" v-show=\"questionInfo[curIndex].questionType === 5\">\n                <el-input\n                  type=\"textarea\"\n                  :rows=\"8\"\n                  placeholder=\"请输入答案\"\n                  v-model=\"userAnswer[curIndex]\">\n                </el-input>\n              </div>\n\n              <!--上一题 下一题-->\n              <div style=\"margin-top: 25px\">\n                <el-button type=\"primary\" icon=\"el-icon-back\" :disabled=\"curIndex<1\" @click=\"curIndex--\">上一题</el-button>\n                <el-button type=\"primary\" icon=\"el-icon-right\" :disabled=\"curIndex>=questionInfo.length-1\"\n                           @click=\"curIndex++\">下一题\n                </el-button>\n              </div>\n\n            </el-card>\n          </el-col>\n\n          <el-col :span=\"7\" :offset=\"1\">\n            <!--答题卡卡片-->\n            <el-card>\n              <div>\n                <p style=\"font-size: 18px;\">答题卡</p>\n                <div style=\"margin-top: 25px\">\n                  <span\n                    style=\"background-color: rgb(238,238,238);padding: 5px 10px 5px 10px;margin-left: 15px\">未作答</span>\n                  <span style=\"background-color: rgb(87,148,247);color: white;\n                padding: 5px 10px 5px 10px;margin-left: 15px\">已作答</span>\n                </div>\n              </div>\n\n              <!--单选的答题卡-->\n              <div style=\"margin-top: 25px\">\n                <p style=\"font-size: 18px;\">单选题</p>\n                <el-button style=\"margin-top: 10px;margin-left: 15px\" size=\"mini\"\n                           v-show=\"questionInfo[item-1].questionType === 1\"\n                           :class=\"questionInfo[item-1].questionType === 1 && userAnswer[item-1] !== undefined ?\n                            'done' : userAnswer[item-1] === undefined ? curIndex === (item-1) ? 'orange' : 'noAnswer' : 'noAnswer'\"\n                           v-for=\"item in questionInfo.length\" :key=\"item\" @click=\"curIndex = item-1\">{{ item }}\n                </el-button>\n              </div>\n\n              <!--多选的答题卡-->\n              <div style=\"margin-top: 25px\">\n                <p style=\"font-size: 18px;\">多选题</p>\n                <el-button style=\"margin-top: 10px;margin-left: 15px\" size=\"mini\"\n                           v-show=\"questionInfo[item-1].questionType === 2\"\n                           :class=\"questionInfo[item-1].questionType === 2 && userAnswer[item-1] !== undefined ?\n                            'done' : userAnswer[item-1] === undefined ? curIndex === (item-1) ? 'orange' : 'noAnswer' : 'noAnswer'\"\n                           v-for=\"item in questionInfo.length\" :key=\"item\" @click=\"curIndex = item-1\">{{ item }}\n                </el-button>\n              </div>\n\n              <!--判断的答题卡-->\n              <div style=\"margin-top: 25px\">\n                <p style=\"font-size: 18px;\">判断题</p>\n                <el-button style=\"margin-top: 10px;margin-left: 15px\" size=\"mini\"\n                           v-show=\"questionInfo[item-1].questionType === 3\"\n                           :class=\"questionInfo[item-1].questionType === 3 && userAnswer[item-1] !== undefined ?\n                            'done' : userAnswer[item-1] === undefined ? curIndex === (item-1) ? 'orange' : 'noAnswer' : 'noAnswer'\"\n                           v-for=\"item in questionInfo.length\" :key=\"item\" @click=\"curIndex = item-1\">{{ item }}\n                </el-button>\n              </div>\n\n              <!--填空的答题卡-->\n              <div style=\"margin-top: 25px\">\n                <p style=\"font-size: 18px;\">填空题</p>\n                <el-button style=\"margin-top: 10px;margin-left: 15px\" size=\"mini\"\n                           v-show=\"questionInfo[item-1].questionType === 4\"\n                           :class=\"questionInfo[item-1].questionType === 4 && userAnswer[item-1] !== undefined ?\n                            'done' : userAnswer[item-1] === undefined ? curIndex === (item-1) ? 'orange' : 'noAnswer' : 'noAnswer'\"\n                           v-for=\"item in questionInfo.length\" :key=\"item\" @click=\"curIndex = item-1\">{{ item }}\n                </el-button>\n              </div>\n\n              <!--简答的答题卡-->\n              <div style=\"margin-top: 25px\">\n                <p style=\"font-size: 18px;\">简答题</p>\n                <el-button style=\"margin-top: 10px;margin-left: 15px\" size=\"mini\"\n                           v-show=\"questionInfo[item-1].questionType === 5\"\n                           :class=\"questionInfo[item-1].questionType === 5 && userAnswer[item-1] !== undefined ?\n                            'done' : userAnswer[item-1] === undefined ? curIndex === (item-1) ? 'orange' : 'noAnswer' : 'noAnswer'\"\n                           v-for=\"item in questionInfo.length\" :key=\"item\" @click=\"curIndex = item-1\">{{ item }}\n                </el-button>\n              </div>\n            </el-card>\n          </el-col>\n\n        </el-col>\n      </el-row>\n      <video id=\"video\" muted=\"muted\" style=\"float:right;position: fixed;top: 80%;left: 85%\" width=\"200px\"\n             height=\"200px\" autoplay=\"autoplay\"></video>\n      <canvas id=\"canvas\" hidden width=\"200px\" height=\"200px\"></canvas>\n    </el-main>\n    <!--图片回显-->\n    <el-dialog :visible.sync=\"bigImgDialog\" @close=\"bigImgDialog = false\">\n      <img style=\"width: 100%\" :src=\"imgUrl+bigImgUrl\">\n    </el-dialog>\n  </el-container>\n\n</template>\n\n<script>\n\nimport exam from '@/api/exam'\nimport question from '@/api/question'\nimport ossUtils from '@/api/ossUtils'\n\nexport default {\n  name: 'ExamPage',\n  data() {\n    return {\n      imgUrl: process.env.VUE_APP_IMAGE_URL,\n      //当前考试的信息\n      examInfo: {},\n      //当前的考试题目\n      questionInfo: [\n        {\n          questionType: ''\n        }\n      ],\n      //当前题目的索引值\n      curIndex: 0,\n      //控制大图的对话框\n      bigImgDialog: false,\n      //当前要展示的大图的url\n      bigImgUrl: '',\n      //用户选择的答案\n      userAnswer: [],\n      //页面数据加载\n      loading: {},\n      //页面绘制是否开始\n      show: false,\n      //答案的选项名abcd数据\n      optionName: ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'],\n      //考试总时长\n      duration: 0,\n    }\n  },\n  created() {\n    this.getExamInfo()\n    //页面数据加载的等待状态栏\n    this.loading = this.$Loading.service({\n      body: true,\n      lock: true,\n      text: '数据拼命加载中,(*╹▽╹*)',\n      spinner: 'el-icon-loading',\n    })\n  },\n  mounted() {\n    //关闭浏览器窗口的时候移除 localstorage的时长\n    let userAgent = navigator.userAgent //取得浏览器的userAgent字符串\n    let isOpera = userAgent.indexOf('Opera') > -1 //判断是否Opera浏览器\n    let isIE = userAgent.indexOf('compatible') > -1 && userAgent.indexOf('MSIE') > -1 && !isOpera //判断是否IE浏览器\n    let isIE11 = userAgent.indexOf('rv:11.0') > -1 //判断是否是IE11浏览器\n    let isEdge = userAgent.indexOf('Edge') > -1 && !isIE //判断是否IE的Edge浏览器\n    if (!isIE && !isEdge && !isIE11) {//兼容chrome和firefox\n      let _beforeUnload_time = 0, _gap_time = 0\n      let is_fireFox = navigator.userAgent.indexOf('Firefox') > -1//是否是火狐浏览器\n      window.onunload = function () {\n        _gap_time = new Date().getTime() - _beforeUnload_time\n        if (_gap_time <= 5) {\n          localStorage.removeItem('examDuration' + this.examInfo.examId)\n        } else {//谷歌浏览器刷新\n        }\n      }\n      window.onbeforeunload = function () {\n        _beforeUnload_time = new Date().getTime()\n        if (is_fireFox) {//火狐关闭执行\n        } else {//火狐浏览器刷新\n        }\n      }\n    }\n  },\n  methods: {\n    //查询当前考试的信息\n    getExamInfo() {\n      exam.getExamInfoById(this.$route.params).then((resp) => {\n        if (resp.code === 200) {\n          this.examInfo = resp.data\n          //设置定时(秒)\n          try {\n            const examDuration = JSON.parse(localStorage.getItem('examDuration' + this.examInfo.examId) || \"{}\");\n            if (examDuration.duration === 0 || Date.now() >= (examDuration.timestamp || Date.now()) + (examDuration.duration * 1000 || Date.now())) {\n              localStorage.removeItem('examDuration' + this.examInfo.examId)\n            }\n            this.duration = Math.min(JSON.parse(localStorage.getItem('examDuration' + this.examInfo.examId) || \"{}\").duration || resp.data.examDuration * 60, resp.data.examDuration * 60)\n          } catch (e) {\n            localStorage.removeItem('examDuration' + this.examInfo.examId)\n          }\n          //考试剩余时间定时器\n          this.timer = window.setInterval(() => {\n            if (this.duration > 0) this.duration--\n          }, 1000)\n          this.getQuestionInfo(resp.data.questionIds.split(','))\n        }\n      })\n    },\n    //查询考试的题目信息\n    async getQuestionInfo(ids) {\n      await question.getQuestionByIds({'ids': ids.join(',')}).then(resp => {\n        if (resp.code === 200) {\n          this.questionInfo = resp?.data?.data || []\n          //重置问题的顺序 单选 多选 判断 简答\n          this.questionInfo = this.questionInfo.sort(function (a, b) {\n            return a.questionType - b.questionType\n          })\n        }\n      })\n      this.loading.close()\n      this.show = true\n    },\n    //点击展示高清大图\n    showBigImg(url) {\n      this.bigImgUrl = url\n      this.bigImgDialog = true\n    },\n    //检验单选题的用户选择的答案\n    checkSingleAnswer(index) {\n      this.$set(this.userAnswer, this.curIndex, index)\n    },\n    //多选题用户的答案选中\n    selectedMultipleAnswer(index) {\n      if (this.userAnswer[this.curIndex] === undefined) {\n        //当前是多选的第一个答案\n        this.$set(this.userAnswer, this.curIndex, index)\n      } else if (String(this.userAnswer[this.curIndex]).split(',').includes(index + '')) {\n        //取消选中\n        let newArr = []\n        String(this.userAnswer[this.curIndex]).split(',').forEach(item => {\n          if (item !== '' + index) newArr.push(item)\n        })\n        if (newArr.length === 0) {\n          this.$set(this.userAnswer, this.curIndex, undefined)\n        } else {\n          this.$set(this.userAnswer, this.curIndex, newArr.join(','))\n          //答案格式化顺序DBAC -> ABCD\n          this.userAnswer[this.curIndex] = String(this.userAnswer[this.curIndex]).split(',').sort(function (a, b) {\n            return a - b\n          }).join(',')\n        }\n      } else if (!((this.userAnswer[this.curIndex] + '').split(',').includes(index + ''))) {//第n个答案\n        this.$set(this.userAnswer, this.curIndex, this.userAnswer[this.curIndex] += ',' + index)\n        //答案格式化顺序DBAC -> ABCD\n        this.userAnswer[this.curIndex] = String(this.userAnswer[this.curIndex]).split(',').sort(function (a, b) {\n          return a - b\n        }).join(',')\n      }\n    },\n    //提交考试答案\n    submitExam(data){\n      exam.addExamRecord(data).then((resp) => {\n        if (resp.code === 200) {\n          this.$notify({\n            title: 'Tips',\n            message: '考试结束 *^▽^*',\n            type: 'success',\n            duration: 2000\n          })\n          this.$router.push('/examResult/' + resp.data)\n        }\n      })\n    },\n    //上传用户考试信息进入后台\n    async uploadExamToAdmin() {\n      // 正则\n      let reg1 = new RegExp('-', 'g')\n      let reg2 = new RegExp('；', 'g')\n      // 去掉用户输入的非法分割符号(-),保证后端接受数据处理不报错\n      this.userAnswer.forEach((item, index) => {\n        if (this.questionInfo[index].questionType === 5) {//简答题答案处理\n          this.userAnswer[index] = item.replace(reg1, ' ')\n        }else if (this.questionInfo[index].questionType === 4) {//填空题答案处理\n          this.userAnswer[index] = item.replace(reg1, ' ')\n          this.userAnswer[index] = item.replace(reg2, ';')\n        }\n      })\n\n      // 标记题目是否全部做完\n      let flag = true\n      for (let i = 0; i < this.userAnswer.length; i++) {// 检测用户是否题目全部做完\n        if (this.userAnswer[i] === undefined) {\n          flag = false\n        }\n      }\n      // 如果用户所有答案的数组长度小于题目长度,这个时候也要将标志位置为false\n      if (this.userAnswer.length < this.questionInfo.length) {\n        flag = false\n      }\n      //题目未做完\n      if (!flag) {\n        this.$confirm('当前试题暂未做完, 是否继续提交o(╥﹏╥)o ?', 'Tips', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          let data = {}\n          data.questionIds = []\n          data.userAnswers = this.userAnswer.join('-')\n          this.questionInfo.forEach((item, index) => {\n            data.questionIds.push(item.questionId)\n            //当前数据不完整,用户回答不完整(我们自动补充空答案,防止业务出错)\n            if (index > (this.userAnswer.length - 1)) {\n              data.userAnswers += '- '\n            }\n          })\n          //如果所有题目全部未答\n          if (this.userAnswer.length === 0) {\n            this.questionInfo.forEach(item => {\n              data.userAnswers += ' -'\n            })\n            data.userAnswers.split(0, data.userAnswers.length - 1)\n          }\n          data.examId = parseInt(this.$route.params.examId)\n          data.questionIds = data.questionIds.join(',')\n          this.submitExam(data)\n        }).catch(() => {\n          this.$notify({\n            title: 'Tips',\n            message: '继续加油! *^▽^*',\n            type: 'success',\n            duration: 2000\n          })\n        })\n      } else {\n        //当前题目做完了\n        let data = {}\n        data.questionIds = []\n        data.userAnswers = this.userAnswer.join('-')\n        data.examId = parseInt(this.$route.params.examId)\n        this.questionInfo.forEach((item, index) => {\n          data.questionIds.push(item.questionId)\n        })\n        data.questionIds = data.questionIds.join(',')\n        this.submitExam(data)\n      }\n    }\n  },\n  watch: {\n    //监控考试的剩余时间\n    async duration(newVal) {\n      const examDuration = {\n        duration: newVal,\n        timestamp: Date.now()\n      };\n      localStorage.setItem('examDuration' + this.examInfo.examId, JSON.stringify(examDuration));\n      //考试时间结束了提交试卷\n      if (newVal < 1) {\n        let data = {}\n        data.questionIds = []\n        data.userAnswers = this.userAnswer.join('-')\n        this.questionInfo.forEach((item, index) => {\n          data.questionIds.push(item.questionId)\n          //当前数据不完整,用户回答不完整(我们自动补充空答案,防止业务出错)\n          if (index > this.userAnswer.length) {\n            data.userAnswers += ' -'\n          }\n        })\n        //如果所有题目全部未答\n        if (data.userAnswers === '') {\n          this.questionInfo.forEach(item => {\n            data.userAnswers += ' -'\n          })\n          data.userAnswers.split(0, data.userAnswers.length - 1)\n        }\n        data.examId = parseInt(this.$route.params.examId)\n\n        data.questionIds = data.questionIds.join(',')\n        exam.addExamRecord(data).then((resp) => {\n          if (resp.code === 200) {\n            this.$notify({\n              title: 'Tips',\n              message: '考试时间结束,已为您自动提交 *^▽^*',\n              type: 'success',\n              duration: 2000\n            })\n            this.$router.push('/examResult/' + resp.data)\n          }\n        })\n      }\n    },\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"../../assets/css/student/examPage\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExamPage.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExamPage.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ExamPage.vue?vue&type=template&id=acee34d2&scoped=true\"\nimport script from \"./ExamPage.vue?vue&type=script&lang=js\"\nexport * from \"./ExamPage.vue?vue&type=script&lang=js\"\nimport style0 from \"./ExamPage.vue?vue&type=style&index=0&id=acee34d2&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"acee34d2\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request'\n\nexport default {\n  getExamInfo (queryInfo) {\n    return request({\n      url: '/public/getExamInfo',\n      method: 'post',\n      data: queryInfo\n    })\n  },\n  allExamInfo () {\n    return request({\n      url: '/public/allExamInfo',\n      method: 'get'\n    })\n  },\n  operationExam (operateId, params) {\n    return request({\n      url: `/teacher/operationExam/${operateId}`,\n      method: 'get',\n      params: params\n    })\n  },\n  getExamRecord (params) {\n    return request({\n      url: '/teacher/getExamRecord',\n      method: 'get',\n      params: params\n    })\n  },\n  getExamInfoById (params) {\n    return request({\n      url: '/public/getExamInfoById',\n      method: 'get',\n      params: params\n    })\n  },\n  addExamRecord (data) {\n    return request({\n      url: '/student/addExamRecord',\n      method: 'post',\n      data: data\n    })\n  },\n  getExamRecordById (recordId) {\n    return request({\n      url: `/student/getExamRecordById/${recordId}`,\n      method: 'get'\n    })\n  },\n  getExamQuestionByExamId (examId) {\n    return request({\n      url: `/student/getExamQuestionByExamId/${examId}`,\n      method: 'get'\n    })\n  },\n  addExamByBank (data) {\n    return request({\n      url: `/teacher/addExamByBank`,\n      method: 'post',\n      data: data\n    })\n  },\n  addExamByQuestionList (data) {\n    return request({\n      url: '/teacher/addExamByQuestionList',\n      method: 'post',\n      data: data\n    })\n  },\n  updateExamInfo(data){\n    return request({\n      url: '/teacher/updateExamInfo',\n      method: 'post',\n      data: data\n    })\n  },\n  getQuestionIdsByExamId(params){\n    return request({\n      url: '/teacher/getQuestionIdsByExamId',\n      method: 'get',\n      params: params\n    })\n  }\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExamPage.vue?vue&type=style&index=0&id=acee34d2&prod&scoped=true&lang=scss\""],"sourceRoot":""}